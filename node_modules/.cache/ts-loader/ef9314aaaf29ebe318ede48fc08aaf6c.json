{"remainingRequest":"/home/nebojsa/projects/factory-academy-ts/node_modules/babel-loader/lib/index.js!/home/nebojsa/projects/factory-academy-ts/node_modules/ts-loader/index.js??ref--13-2!/home/nebojsa/projects/factory-academy-ts/src/store/modules/auth/authModule.ts","dependencies":[{"path":"/home/nebojsa/projects/factory-academy-ts/src/store/modules/auth/authModule.ts","mtime":1625834627909},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvbmVib2pzYS9wcm9qZWN0cy9mYWN0b3J5LWFjYWRlbXktdHMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvbmVib2pzYS9wcm9qZWN0cy9mYWN0b3J5LWFjYWRlbXktdHMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL25lYm9qc2EvcHJvamVjdHMvZmFjdG9yeS1hY2FkZW15LXRzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvbmVib2pzYS9wcm9qZWN0cy9mYWN0b3J5LWFjYWRlbXktdHMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvaG9tZS9uZWJvanNhL3Byb2plY3RzL2ZhY3RvcnktYWNhZGVteS10cy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9ob21lL25lYm9qc2EvcHJvamVjdHMvZmFjdG9yeS1hY2FkZW15LXRzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IE1vZHVsZSwgVnVleE1vZHVsZSwgTXV0YXRpb24sIEFjdGlvbiwgZ2V0TW9kdWxlIH0gZnJvbSAndnVleC1tb2R1bGUtZGVjb3JhdG9ycyc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsgYXV0aFNlcnZpY2UgfSBmcm9tICcuL2F1dGguc2VydmljZSc7CmltcG9ydCB7IFRPS0VOX0xTX05BTUUgfSBmcm9tICIuLi8uLi8uLi9jb25zdGFudHMvY29uc3RhbnRzIjsKaW1wb3J0IFNIQTUxMiBmcm9tICJjcnlwdG8tanMvc2hhNTEyIjsKCnZhciBBdXRoTW9kdWxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVleE1vZHVsZSkgewogIF9pbmhlcml0cyhBdXRoTW9kdWxlLCBfVnVleE1vZHVsZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQXV0aE1vZHVsZSk7CgogIGZ1bmN0aW9uIEF1dGhNb2R1bGUoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1dGhNb2R1bGUpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5sb2dnZWRVc2VyID0gbnVsbDsgLy8gQEFjdGlvbih7IHJhd0Vycm9yOiB0cnVlIH0pCiAgICAvLyBhc3luYyByZWdpc3Rlcih7fSwgcGF5bG9hZCkgewogICAgLy8gCXRyeXsKICAgIC8vIAkJbGV0IGZvcm1EYXRhID0geyAuLi5wYXlsb2FkIH07CiAgICAvLyAJCWZvcm1EYXRhLnBhc3N3b3JkID0gU0hBNTEyKGZvcm1EYXRhLnBhc3N3b3JkKS50b1N0cmluZygpCiAgICAvLyAJCWNvbnN0IHJlcyA9IGF3YWl0IGF1dGhTZXJ2aWNlLnJlZ2lzdGVyKGZvcm1EYXRhKTsKICAgIC8vIAkJcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXMpOwogICAgLy8gCX0gY2F0Y2goZXJyb3IpIHsKICAgIC8vIAkJcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICAgIC8vIAl9CiAgICAvLyB9CiAgICAvLyBFTkQgOjogYWN0aW9ucwoKICAgIHJldHVybiBfdGhpczsKICB9IC8vIGdldHRlcnMKCgogIF9jcmVhdGVDbGFzcyhBdXRoTW9kdWxlLCBbewogICAga2V5OiAiZ2V0TG9nZ2VkVXNlciIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMubG9nZ2VkVXNlcjsKICAgIH0gLy8gRU5EIDo6IGdldHRlcnMKICAgIC8vIG11dGF0aW9ucwoKICB9LCB7CiAgICBrZXk6ICJzZXRMb2dnZWRVc2VyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMb2dnZWRVc2VyKGxvZ2dlZFVzZXIpIHsKICAgICAgdGhpcy5sb2dnZWRVc2VyID0gbG9nZ2VkVXNlcjsKICAgIH0gLy8gRU5EIDo6IG11dGF0aW9uCiAgICAvLyBhY3Rpb25zCgogIH0sIHsKICAgIGtleTogImxvZ2luQWN0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9naW5BY3Rpb24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocGF5bG9hZCkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCBwYXlsb2FkKTsgLy8gdGhpcyBzaG91bGQgYmUgY2hhbmdlZCwgc2hvdWxkIG5vdCBiZSBhbnkKCiAgICAgICAgICAgICAgICBmb3JtRGF0YS5wYXNzd29yZCA9IFNIQTUxMihmb3JtRGF0YS5wYXNzd29yZCkudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGF1dGhTZXJ2aWNlLmxvZ2luKGZvcm1EYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuc2V0TG9nZ2VkVXNlcihyZXMuZGF0YSk7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShUT0tFTl9MU19OQU1FLCByZXMuZGF0YVsnc2Vzc2lvbi1pZCddKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVzb2x2ZShyZXMpKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dC50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1swLCAxMV1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9naW5BY3Rpb24oX3gpIHsKICAgICAgICByZXR1cm4gX2xvZ2luQWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsb2dpbkFjdGlvbjsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImxvZ291dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xvZ291dCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF1dGhTZXJ2aWNlLmxvZ291dCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuc2V0TG9nZ2VkVXNlcihudWxsKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCAnL2xvZ2luJyk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dDIudDApKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcywgW1swLCA4XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgICAgcmV0dXJuIF9sb2dvdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxvZ291dDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImZldGNoQWN0aXZlQWNjb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ZldGNoQWN0aXZlQWNjb3VudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGFjY291bnQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhdXRoU2VydmljZS5mZXRjaEFjdGl2ZUFjY291bnQoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgYWNjb3VudCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRTdGF0ZScsIHsKICAgICAgICAgICAgICAgICAgbG9nZ2VkVXNlcjogYWNjb3VudC5kYXRhCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBhY2NvdW50KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KF9jb250ZXh0My50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzAsIDhdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGZldGNoQWN0aXZlQWNjb3VudCgpIHsKICAgICAgICByZXR1cm4gX2ZldGNoQWN0aXZlQWNjb3VudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZmV0Y2hBY3RpdmVBY2NvdW50OwogICAgfSgpCiAgfV0pOwoKICByZXR1cm4gQXV0aE1vZHVsZTsKfShWdWV4TW9kdWxlKTsKCl9fZGVjb3JhdGUoW011dGF0aW9uXSwgQXV0aE1vZHVsZS5wcm90b3R5cGUsICJzZXRMb2dnZWRVc2VyIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtBY3Rpb24oewogIHJhd0Vycm9yOiB0cnVlCn0pXSwgQXV0aE1vZHVsZS5wcm90b3R5cGUsICJsb2dpbkFjdGlvbiIsIG51bGwpOwoKX19kZWNvcmF0ZShbQWN0aW9uKHsKICByYXdFcnJvcjogdHJ1ZQp9KV0sIEF1dGhNb2R1bGUucHJvdG90eXBlLCAibG9nb3V0IiwgbnVsbCk7CgpfX2RlY29yYXRlKFtBY3Rpb24oewogIHJhd0Vycm9yOiB0cnVlCn0pXSwgQXV0aE1vZHVsZS5wcm90b3R5cGUsICJmZXRjaEFjdGl2ZUFjY291bnQiLCBudWxsKTsKCkF1dGhNb2R1bGUgPSBfX2RlY29yYXRlKFtNb2R1bGUoewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgbmFtZTogJ2F1dGhNb2R1bGUnLAogIGR5bmFtaWM6IHRydWUsCiAgc3RvcmU6IHN0b3JlCn0pXSwgQXV0aE1vZHVsZSk7CmV4cG9ydCBkZWZhdWx0IGdldE1vZHVsZShBdXRoTW9kdWxlKTs="},{"version":3,"sources":["/home/nebojsa/projects/factory-academy-ts/src/store/modules/auth/authModule.ts"],"names":[],"mappings":"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","sourcesContent":["import { Module, VuexModule, Mutation, Action, getModule } from 'vuex-module-decorators'\nimport store from '@/store'\nimport { authService } from './auth.service'\nimport { TOKEN_LS_NAME } from \"../../../constants/constants\";\nimport SHA512 from \"crypto-js/sha512\";\n\n@Module({ namespaced: true, name: 'authModule', dynamic: true, store })\nclass AuthModule extends VuexModule {\n\n\tpublic loggedUser: {} | null = null;\n\n\t// getters\n\tget getLoggedUser() {\n\t\treturn this.loggedUser;\n\t}\n\t// END :: getters\n\n\t// mutations\n\t@Mutation\n\tpublic setLoggedUser(loggedUser: {} | null): void {\n\t\tthis.loggedUser = loggedUser\n\t}\n\t// END :: mutation\n\n\t// actions\n\t@Action({ rawError: true })\n\tasync loginAction(payload: {}) {\n\t\ttry {\n\t\t\tlet formData: any = { ...payload };  // this should be changed, should not be any\n\t\t\tformData.password = SHA512(formData.password).toString()\n\t\t\tconst res = await authService.login(formData);\n\t\t\tthis.setLoggedUser(res.data)\n\t\t\tlocalStorage.setItem(TOKEN_LS_NAME, res.data['session-id']);\n\t\t\treturn Promise.resolve(res);\n\t\t} catch (error) {\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n\t@Action({ rawError: true })\n\tasync logout() {\n\t\ttry {\n\t\t\tconst res = await authService.logout();\n\t\t\tthis.setLoggedUser(null);\n\t\t\treturn '/login';\n\t\t} catch (error) {\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n\n\t@Action({ rawError: true })\n\tasync fetchActiveAccount() {\n\t\ttry {\n\t\t\tconst account = await authService.fetchActiveAccount();\n\t\t\tcommit('setState', {\n\t\t\t\tloggedUser: account.data\n\t\t\t});\n\t\t\treturn account\n\t\t} catch (error) {\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n\n\t// @Action({ rawError: true })\n\t// async register({}, payload) {\n\t// \ttry{\n\t// \t\tlet formData = { ...payload };\n\t// \t\tformData.password = SHA512(formData.password).toString()\n\t// \t\tconst res = await authService.register(formData);\n\t// \t\treturn Promise.resolve(res);\n\t// \t} catch(error) {\n\t// \t\treturn Promise.reject(error);\n\t// \t}\n\t// }\n\n\t// END :: actions\n}\nexport default getModule(AuthModule)"],"sourceRoot":""}]}