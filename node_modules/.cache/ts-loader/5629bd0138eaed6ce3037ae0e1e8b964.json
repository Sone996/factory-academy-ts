{"remainingRequest":"/home/nebojsa/projects/factory-academy-ts/node_modules/babel-loader/lib/index.js!/home/nebojsa/projects/factory-academy-ts/node_modules/ts-loader/index.js??ref--13-2!/home/nebojsa/projects/factory-academy-ts/src/api/api.ts","dependencies":[{"path":"/home/nebojsa/projects/factory-academy-ts/src/api/api.ts","mtime":1625756607110},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IFRPS0VOX0xTX05BTUUgfSBmcm9tICcuLi9jb25zdGFudHMvY29uc3RhbnRzJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlL2luZGV4JzsKdmFyIGF4aW9zSW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1BBVEgKfSk7CmF4aW9zSW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShUT0tFTl9MU19OQU1FKTsKICBzdG9yZS5jb21taXQoJ2dsb2JhbE1vZHVsZS90b2dnbGVMb2FkZXInLCB0cnVlKTsKCiAgaWYgKHRva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1sic2Vzc2lvbi1pZCJdID0gdG9rZW47CiAgfQoKICByZXR1cm4gY29uZmlnOwp9KTsKYXhpb3NJbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHN0b3JlLmNvbW1pdCgnZ2xvYmFsTW9kdWxlL3RvZ2dsZUxvYWRlcicsIGZhbHNlKTsKICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgc3RvcmUuY29tbWl0KCdnbG9iYWxNb2R1bGUvdG9nZ2xlTG9hZGVyJywgZmFsc2UpOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgdmFyIGFwaSA9IGF4aW9zSW5zdGFuY2U7"},{"version":3,"sources":["/home/nebojsa/projects/factory-academy-ts/src/api/api.ts"],"names":[],"mappings":";AAAA,SAAS,aAAT,QAA8B,wBAA9B;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAP,MAAkB,gBAAlB;AAEA,IAAM,aAAa,GAAG,KAAK,CAAC,MAAN,CAAa;AAC/B,EAAA,OAAO,EAAE,OAAO,CAAC,GAAR,CAAY;AADU,CAAb,CAAtB;AAIA,aAAa,CAAC,YAAd,CAA2B,OAA3B,CAAmC,GAAnC,CAAuC,UAAC,MAAD,EAAW;AAC9C,MAAM,KAAK,GAAG,YAAY,CAAC,OAAb,CAAqB,aAArB,CAAd;AACA,EAAA,KAAK,CAAC,MAAN,CAAa,2BAAb,EAA0C,IAA1C;;AACA,MAAI,KAAJ,EAAW;AACP,IAAA,MAAM,CAAC,OAAP,CAAe,YAAf,IAA+B,KAA/B;AACH;;AACD,SAAO,MAAP;AACH,CAPD;AASA,aAAa,CAAC,YAAd,CAA2B,QAA3B,CAAoC,GAApC,CACI,UAAC,QAAD,EAAa;AACT,EAAA,KAAK,CAAC,MAAN,CAAa,2BAAb,EAA0C,KAA1C;AACA,SAAO,OAAO,CAAC,OAAR,CAAgB,QAAhB,CAAP;AACH,CAJL,EAKI,UAAC,KAAD,EAAU;AACN,EAAA,KAAK,CAAC,MAAN,CAAa,2BAAb,EAA0C,KAA1C;AACA,SAAO,OAAO,CAAC,MAAR,CAAe,KAAf,CAAP;AACH,CARL;AAWA,OAAO,IAAM,GAAG,GAAG,aAAZ","sourcesContent":["import { TOKEN_LS_NAME } from '../constants/constants'\nimport axios from 'axios';\nimport store from '../store/index'\n\nconst axiosInstance = axios.create({\n    baseURL: process.env.VUE_APP_API_PATH\n})\n\naxiosInstance.interceptors.request.use((config) => {\n    const token = localStorage.getItem(TOKEN_LS_NAME);\n    store.commit('globalModule/toggleLoader', true)\n    if (token) {\n        config.headers[\"session-id\"] = token\n    }\n    return config;\n});\n\naxiosInstance.interceptors.response.use(\n    (response) => {\n        store.commit('globalModule/toggleLoader', false)\n        return Promise.resolve(response);\n    },\n    (error) => {\n        store.commit('globalModule/toggleLoader', false)\n        return Promise.reject(error);\n    }\n);\n\nexport const api = axiosInstance;"],"sourceRoot":""}]}