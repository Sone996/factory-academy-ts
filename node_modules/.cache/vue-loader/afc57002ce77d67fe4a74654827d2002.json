{"remainingRequest":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nebojsa/projects/factory-academy-ts/src/layouts/AppLayout.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/nebojsa/projects/factory-academy-ts/src/layouts/AppLayout.vue","mtime":1625834437536},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgewogICAgQ29tcG9uZW50LAogICAgVnVlCn0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCB7CiAgICBUT0tFTl9MU19OQU1FCn0gZnJvbSAiQC9jb25zdGFudHMvY29uc3RhbnRzIjsKLy8gbW9kdWxlcwppbXBvcnQgYXV0aE1vZHVsZSBmcm9tICdAL3N0b3JlL21vZHVsZXMvYXV0aC9hdXRoTW9kdWxlJzsKCkBDb21wb25lbnQoewogICAgY29tcG9uZW50czoge30sCn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcExheW91dCBleHRlbmRzIFZ1ZSB7CiAgICBtb3VudGVkKCkgewogICAgICAgIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oVE9LRU5fTFNfTkFNRSkpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBnZXR0ZXJzCiAgICBnZXQgbG9nZ2VkVXNlcigpOiB7fSB8IGFueSB7CiAgICAgICAgcmV0dXJuIGF1dGhNb2R1bGUubG9nZ2VkVXNlcjsKICAgIH0KICAgIC8vIEVORCBnZXR0ZXJzCgogICAgLy8gbWV0aG9kcwogICAgbG9nb3V0KCkgewogICAgICAgIGF1dGhNb2R1bGUubG9nb3V0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFRPS0VOX0xTX05BTUUpOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChyZXMpCiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgfQogICAgZ29Ub0hvbWUoKSB7CiAgICAgICAgaWYgKHRoaXMubG9nZ2VkVXNlci5yb2xlID09PSAndGVhY2hlcicpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ3Byb2Zlc3Nvci1ob21lJyk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmxvZ2dlZFVzZXIucm9sZSA9PT0gJ3N0dWRlbnQnKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdob21lJyk7CiAgICAgICAgfQogICAgfQogICAgZ29Ub1Byb2ZpbGUoKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXJTdG9yZS9nb1Byb2ZpbGUnLCB0aGlzLmxvZ2dlZFVzZXIuaWQpCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgcGF0aDogJy9wcm9maWxlJywKICAgICAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgICAgICBpZDogcmVzLmRhdGEuaWQKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge30pOwogICAgfQogICAgbmV3Q291cnNlKCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbmV3LWNvdXJzZScpOwogICAgfQogICAgbXlTdHVkZW50cygpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL21lbWJlci1saXN0Jyk7CiAgICB9CiAgICBDb3Vyc2VMaXN0KCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdjb3Vyc2UtbGlzdCcpCiAgICB9CiAgICBzdHVkZW50QXBsaWNhdGlvbnMoKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ3N0dWRlbnQtYXBsaWNhdGlvbnMnKTsKICAgIH0KICAgIC8vIEVORCA6OiBtZXRob2RzCn0K"},{"version":3,"sources":["AppLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppLayout.vue","sourceRoot":"src/layouts","sourcesContent":["<template>\n<div class=\"flex w-full h-full\">\n    <div class=\"flex flex-col h-full bg-gray-500 w-2/12\">\n        <div class=\"flex p-16\">\n            <img src=\"../assets/images/factoryww.png\" alt=\"logo\" class=\"cursor-pointer\" @click=\"goToHome()\">\n        </div>\n        <div class=\"flex flex-col text-white font-bold text-lg\">\n            <span class=\"my-2 cursor-pointer\" @click=\"goToHome()\">Home</span>\n            <span class=\"my-2 cursor-pointer\" @click=\"goToProfile()\">Profile</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"myStudents()\">My Students</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"newCourse()\">New Course</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"CourseList()\">Course List</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"studentAplications()\">Student aplications</span>\n            <span class=\"my-2 cursor-pointer\" @click=\"logout()\">Logout</span>\n        </div>\n    </div>\n    <div class=\"flex w-full\">\n        <router-view />\n    </div>\n</div>\n</template>\n\n<script lang=\"ts\">\nimport {\n    Component,\n    Vue\n} from \"vue-property-decorator\";\nimport {\n    TOKEN_LS_NAME\n} from \"@/constants/constants\";\n// modules\nimport authModule from '@/store/modules/auth/authModule';\n\n@Component({\n    components: {},\n})\nexport default class AppLayout extends Vue {\n    mounted() {\n        if (!localStorage.getItem(TOKEN_LS_NAME)) {\n            this.$router.push('/login');\n        }\n    }\n\n    // getters\n    get loggedUser(): {} | any {\n        return authModule.loggedUser;\n    }\n    // END getters\n\n    // methods\n    logout() {\n        authModule.logout().then((res) => {\n            localStorage.removeItem(TOKEN_LS_NAME);\n            this.$router.push(res)\n        }).catch((err) => {\n            console.log(err);\n        });\n    }\n    goToHome() {\n        if (this.loggedUser.role === 'teacher') {\n            this.$router.push('professor-home');\n        }\n        if (this.loggedUser.role === 'student') {\n            this.$router.push('home');\n        }\n    }\n    goToProfile() {\n        this.$store.dispatch('userStore/goProfile', this.loggedUser.id)\n            .then(res => {\n                this.$router.push({\n                    path: '/profile',\n                    query: {\n                        id: res.data.id\n                    }\n                })\n            }).catch(err => {});\n    }\n    newCourse() {\n        this.$router.push('/new-course');\n    }\n    myStudents() {\n        this.$router.push('/member-list');\n    }\n    CourseList() {\n        this.$router.push('course-list')\n    }\n    studentAplications() {\n        this.$router.push('student-aplications');\n    }\n    // END :: methods\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}