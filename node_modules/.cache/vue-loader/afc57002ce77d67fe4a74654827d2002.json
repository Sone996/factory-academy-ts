{"remainingRequest":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nebojsa/projects/factory-academy-ts/src/layouts/AppLayout.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/nebojsa/projects/factory-academy-ts/src/layouts/AppLayout.vue","mtime":1626246954553},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgeyBUT0tFTl9MU19OQU1FIH0gZnJvbSAiQC9jb25zdGFudHMvY29uc3RhbnRzIjsKLy8gbW9kdWxlcwppbXBvcnQgYXV0aE1vZHVsZSBmcm9tICdAL3N0b3JlL21vZHVsZXMvYXV0aC9hdXRoTW9kdWxlJzsKaW1wb3J0IHBlcnNvbk1vZHVsZSBmcm9tICdAL3N0b3JlL21vZHVsZXMvcGVyc29uL3BlcnNvbk1vZHVsZSc7CgpAQ29tcG9uZW50KHsKICAgIGNvbXBvbmVudHM6IHt9LAp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBBcHBMYXlvdXQgZXh0ZW5kcyBWdWUgewogICAgCiAgICBtb3VudGVkKCkgewogICAgICAgIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oVE9LRU5fTFNfTkFNRSkpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBnZXR0ZXJzCiAgICBnZXQgbG9nZ2VkVXNlcigpOiB7fSB8IGFueSB7CiAgICAgICAgcmV0dXJuIGF1dGhNb2R1bGUubG9nZ2VkVXNlcjsKICAgIH0KICAgIC8vIEVORCBnZXR0ZXJzCgogICAgLy8gbWV0aG9kcwogICAgcHVibGljIGxvZ291dCgpIHsKICAgICAgICBhdXRoTW9kdWxlLmxvZ291dCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShUT0tFTl9MU19OQU1FKTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2gocmVzKQogICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgIH0KICAgIHB1YmxpYyBnb1RvSG9tZSgpIHsKICAgICAgICBpZiAodGhpcy5sb2dnZWRVc2VyLnJvbGUgPT09ICd0ZWFjaGVyJykgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgncHJvZmVzc29yLWhvbWUnKTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMubG9nZ2VkVXNlci5yb2xlID09PSAnc3R1ZGVudCcpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ2hvbWUnKTsKICAgICAgICB9CiAgICB9CiAgICBwdWJsaWMgZ29Ub1Byb2ZpbGUoKSB7CiAgICAgICAgcGVyc29uTW9kdWxlLmdvUHJvZmlsZSh0aGlzLmxvZ2dlZFVzZXIuaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBwYXRoOiAnL3Byb2ZpbGUnLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiByZXMuZGF0YS5pZAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7fSk7CiAgICB9CiAgICBwdWJsaWMgbmV3Q291cnNlKCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbmV3LWNvdXJzZScpOwogICAgfQogICAgcHVibGljIG15U3R1ZGVudHMoKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9tZW1iZXItbGlzdCcpOwogICAgfQogICAgcHVibGljIENvdXJzZUxpc3QoKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ2NvdXJzZS1saXN0JykKICAgIH0KICAgIHB1YmxpYyBzdHVkZW50QXBsaWNhdGlvbnMoKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ3N0dWRlbnQtYXBsaWNhdGlvbnMnKTsKICAgIH0KICAgIC8vIEVORCA6OiBtZXRob2RzCn0K"},{"version":3,"sources":["AppLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppLayout.vue","sourceRoot":"src/layouts","sourcesContent":["<template>\n<div class=\"flex w-full h-full\">\n    <div class=\"flex flex-col h-full bg-gray-500 w-2/12\">\n        <div class=\"flex p-16\">\n            <img src=\"../assets/images/factoryww.png\" alt=\"logo\" class=\"cursor-pointer\" @click=\"goToHome()\">\n        </div>\n        <div class=\"flex flex-col text-white font-bold text-lg\">\n            <span class=\"my-2 cursor-pointer\" @click=\"goToHome()\">Home</span>\n            <span class=\"my-2 cursor-pointer\" @click=\"goToProfile()\">Profile</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"myStudents()\">My Students</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"newCourse()\">New Course</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"CourseList()\">Course List</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"studentAplications()\">Student aplications</span>\n            <span class=\"my-2 cursor-pointer\" @click=\"logout()\">Logout</span>\n        </div>\n    </div>\n    <div class=\"flex w-full\">\n        <router-view />\n    </div>\n</div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { TOKEN_LS_NAME } from \"@/constants/constants\";\n// modules\nimport authModule from '@/store/modules/auth/authModule';\nimport personModule from '@/store/modules/person/personModule';\n\n@Component({\n    components: {},\n})\nexport default class AppLayout extends Vue {\n    \n    mounted() {\n        if (!localStorage.getItem(TOKEN_LS_NAME)) {\n            this.$router.push('/login');\n        }\n    }\n\n    // getters\n    get loggedUser(): {} | any {\n        return authModule.loggedUser;\n    }\n    // END getters\n\n    // methods\n    public logout() {\n        authModule.logout().then((res) => {\n            localStorage.removeItem(TOKEN_LS_NAME);\n            this.$router.push(res)\n        }).catch((err) => {\n            console.log(err);\n        });\n    }\n    public goToHome() {\n        if (this.loggedUser.role === 'teacher') {\n            this.$router.push('professor-home');\n        }\n        if (this.loggedUser.role === 'student') {\n            this.$router.push('home');\n        }\n    }\n    public goToProfile() {\n        personModule.goProfile(this.loggedUser.id).then(res => {\n                this.$router.push({\n                    path: '/profile',\n                    query: {\n                        id: res.data.id\n                    }\n                })\n            }).catch(err => {});\n    }\n    public newCourse() {\n        this.$router.push('/new-course');\n    }\n    public myStudents() {\n        this.$router.push('/member-list');\n    }\n    public CourseList() {\n        this.$router.push('course-list')\n    }\n    public studentAplications() {\n        this.$router.push('student-aplications');\n    }\n    // END :: methods\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}