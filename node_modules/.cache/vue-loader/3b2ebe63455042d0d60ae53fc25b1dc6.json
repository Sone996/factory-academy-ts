{"remainingRequest":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nebojsa/projects/factory-academy-ts/src/views/Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/nebojsa/projects/factory-academy-ts/src/views/Login.vue","mtime":1626250908380},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IE1vZGFsTWl4aW4gZnJvbSAnQC9taXhpbnMvTW9kYWxNaXhpbic7CmltcG9ydCBhdXRoTW9kdWxlIGZyb20gJy4uL3N0b3JlL21vZHVsZXMvYXV0aC9hdXRoTW9kdWxlJzsKaW1wb3J0IHsgUmVnaXN0ZXIgfSBmcm9tICdAL3N0b3JlL21vZGVscyc7CmltcG9ydCB7IG5vdGlmaWNhdGlvbk1zZyB9IGZyb20gIkAvc2VydmljZXMvQmFzZVNlcnZpY2UiOwoKQENvbXBvbmVudCh7CiAgY29tcG9uZW50czoge30sCn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvZ2luIGV4dGVuZHMgTW9kYWxNaXhpbiB7Cglwcml2YXRlIHJlZ2lzdGVyID0gZmFsc2U7Cglwcml2YXRlIGxvZ2luOiB7fSA9IHsKCQllbWFpbDogbnVsbCwKCQlwYXNzd29yZDogbnVsbAoJfQoJcHJpdmF0ZSByZWdpc3RlckRhdGE6IFJlZ2lzdGVyID0gewoJCW5hbWU6IG51bGwsCgkJc3VybmFtZTogbnVsbCwKCQllbWFpbDogbnVsbCwKCQlwYXNzd29yZDogbnVsbCwKCQlyb2xlOiBudWxsCgl9Cglwcml2YXRlIHJvbGU6IGFueSA9IG51bGwKCXByaXZhdGUgcm9sZU9wdGlvbnMgPSBbCgkJCQl7CgkJCQkJbmFtZTogIlRlYWNoZXIiLAoJCQkJCXZhbHVlOiAndGVhY2hlcicsCgkJCQl9LAoJCQkJewoJCQkJCW5hbWU6ICJTdHVkZW50IiwKCQkJCQl2YWx1ZTogJ3N0dWRlbnQnLAoJCQkJfSwKCQkJXQoKCW1vdW50ZWQoKSB7fQoKCS8vIGNvbXB1dGVkCglnZXQgbG9nZ2VkVXNlcigpIHsKCQlyZXR1cm4gYXV0aE1vZHVsZS5sb2dnZWRVc2VyOwoJfQoJLy8gRU5EIDo6IGNvbXB1dGVkCgogIHB1YmxpYyBvcGVuTm90aWZpY2F0aW9uTW9kYWwoKTogYW55IHsKICAgIHRoaXMub3Blbk1vZGFsKCdub3RpZmljYXRpb24tbW9kYWwnLCB7CgkJCQkJZXJyTXNnOiBudWxsLAoJCQkJCXN1Y2Nlc3NNc2c6ICdsT0dJTl9TVUNDRVNTJywKCQkJCX0pOwogIH0KCglhc3luYyBsb2dpblN1Ym1pdCgpIHsKCQlhdXRoTW9kdWxlLmxvZ2luQWN0aW9uKHRoaXMubG9naW4pLnRoZW4ocmVzID0+IHsKCQkJaWYocmVzLmRhdGEucm9sZSA9PT0gJ3RlYWNoZXInKSB7CgkJCQl0aGlzLiRyb3V0ZXIucHVzaCgnL3Byb2Zlc3Nvci1ob21lJyk7CgkJCQlyZXR1cm47CgkJCX0gaWYocmVzLmRhdGEucm9sZSA9PT0gJ3N0dWRlbnQnKSB7CgkJCQl0aGlzLiRyb3V0ZXIucHVzaCgnL3N0dWRlbnQtaG9tZScpOwoJCQkJcmV0dXJuOwoJCQl9CgkJfSkuY2F0Y2goZXJyID0+IHsKCQkJdGhpcy5vcGVuTW9kYWwoJ25vdGlmaWNhdGlvbi1tb2RhbCcsIHsKCQkJCQllcnJNc2c6IG5vdGlmaWNhdGlvbk1zZyhlcnIsIG51bGwpLAoJCQkJCXN1Y2Nlc3NNc2c6IG51bGwsCgkJCQl9KTsKCQl9KTsKCX0KCglwdWJsaWMgcmVnaXN0ZXJGb3JtKCkgewogICAgdGhpcy5yZWdpc3RlciA9ICF0aGlzLnJlZ2lzdGVyOwogIH0KCXB1YmxpYyByZWdpc3RlckFjdGlvbigpIHsKICAgIAl0aGlzLnJlZ2lzdGVyRGF0YS5yb2xlID0gdGhpcy5yb2xlLnZhbHVlOwoJCWF1dGhNb2R1bGUucmVnaXN0ZXIodGhpcy5yZWdpc3RlckRhdGEpLnRoZW4oCgkJCXJlcyA9PiB7CgkJCQl0aGlzLmxvZ2luID0gewoJCQkJCWVtYWlsOiB0aGlzLnJlZ2lzdGVyRGF0YS5lbWFpbCwKCQkJCQlwYXNzd29yZDogdGhpcy5yZWdpc3RlckRhdGEucGFzc3dvcmQKCQkJCX0KCQkJCXRoaXMub3Blbk1vZGFsKCdub3RpZmljYXRpb24tbW9kYWwnLCB7CgkJCQkJZXJyTXNnOiBudWxsLAoJCQkJCXN1Y2Nlc3NNc2c6IG5vdGlmaWNhdGlvbk1zZyhyZXMsICdSRUdJU1RFUl9TVUNDRVNTJyksCgkJCQl9KTsKCQkJCXRoaXMubG9naW5TdWJtaXQoKTsKCQkJfQoJCSkuY2F0Y2goZXJyID0+IHsKCQkJdGhpcy5vcGVuTW9kYWwoJ25vdGlmaWNhdGlvbi1tb2RhbCcsIHsKCQkJCQllcnJNc2c6IG5vdGlmaWNhdGlvbk1zZyhlcnIsIG51bGwpLAoJCQkJCXN1Y2Nlc3NNc2c6IG51bGwsCgkJCQl9KTsKCQl9KTsKICB9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"flex items-center justify-center h-full w-full\">\n    <div v-if=\"!register\" class=\"flex flex-col w-4/12 border h-2/3 p-4\">\n      <div class=\"flex justify-center\">\n        <span class=\"text-3xl\">Login</span>\n      </div>\n      <div class=\"flex flex-col justify-center mt-8\">\n        <span>Email</span>\n        <input\n          class=\"input\"\n          type=\"text\"\n          autocomplete=\"off\"\n          v-model=\"login.email\"\n        />\n      </div>\n      <div class=\"flex flex-col justify-center mt-4\">\n        <span>Password</span>\n        <input\n          class=\"input\"\n          type=\"password\"\n          autocomplete=\"new-password\"\n          v-model=\"login.password\"\n        />\n      </div>\n      <div class=\"flex mt-4 justify-between\">\n        <div class=\"button bg-blue-500 w-1/3\" @click=\"loginSubmit()\">Login</div>\n        <div class=\"button bg-darkGreen w-1/3\" @click=\"registerForm()\">\n          Register\n        </div>\n      </div>\n    </div>\n    <div v-else class=\"flex flex-col w-4/12 border h-2/3 p-4\">\n      <div class=\"flex justify-center\">\n        <span class=\"text-3xl\">Register</span>\n      </div>\n      <div class=\"flex flex-col justify-center mt-8\">\n        <span>First Name</span>\n        <input\n          class=\"input\"\n          type=\"text\"\n          autocomplete=\"off\"\n          v-model=\"registerData.name\"\n        />\n      </div>\n      <div class=\"flex flex-col justify-center mt-8\">\n        <span>Last Name</span>\n        <input\n          class=\"input\"\n          type=\"text\"\n          autocomplete=\"off\"\n          v-model=\"registerData.surname\"\n        />\n      </div>\n      <div class=\"flex flex-col justify-center mt-8\">\n        <span>Email</span>\n        <input\n          class=\"input\"\n          type=\"text\"\n          autocomplete=\"off\"\n          v-model=\"registerData.email\"\n        />\n      </div>\n      <div class=\"flex flex-col justify-center mt-8\">\n        <span>Password</span>\n        <input\n          class=\"input\"\n          type=\"password\"\n          autocomplete=\"new-password\"\n          v-model=\"registerData.password\"\n        />\n      </div>\n      <div class=\"flex mt-8\">\n        <v-select\n          label=\"name\"\n          class=\"w-1/4\"\n          :clearable=\"false\"\n          :options=\"roleOptions\"\n          v-model=\"role\"\n        />\n      </div>\n      <div class=\"flex mt-4 justify-between\">\n        <div class=\"button bg-darkRed w-1/3\" @click=\"registerForm()\">\n          Go Back\n        </div>\n        <div class=\"button bg-darkGreen w-1/3\" @click=\"registerAction()\">\n          Register\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport ModalMixin from '@/mixins/ModalMixin';\nimport authModule from '../store/modules/auth/authModule';\nimport { Register } from '@/store/models';\nimport { notificationMsg } from \"@/services/BaseService\";\n\n@Component({\n  components: {},\n})\nexport default class Login extends ModalMixin {\n\tprivate register = false;\n\tprivate login: {} = {\n\t\temail: null,\n\t\tpassword: null\n\t}\n\tprivate registerData: Register = {\n\t\tname: null,\n\t\tsurname: null,\n\t\temail: null,\n\t\tpassword: null,\n\t\trole: null\n\t}\n\tprivate role: any = null\n\tprivate roleOptions = [\n\t\t\t\t{\n\t\t\t\t\tname: \"Teacher\",\n\t\t\t\t\tvalue: 'teacher',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"Student\",\n\t\t\t\t\tvalue: 'student',\n\t\t\t\t},\n\t\t\t]\n\n\tmounted() {}\n\n\t// computed\n\tget loggedUser() {\n\t\treturn authModule.loggedUser;\n\t}\n\t// END :: computed\n\n  public openNotificationModal(): any {\n    this.openModal('notification-modal', {\n\t\t\t\t\terrMsg: null,\n\t\t\t\t\tsuccessMsg: 'lOGIN_SUCCESS',\n\t\t\t\t});\n  }\n\n\tasync loginSubmit() {\n\t\tauthModule.loginAction(this.login).then(res => {\n\t\t\tif(res.data.role === 'teacher') {\n\t\t\t\tthis.$router.push('/professor-home');\n\t\t\t\treturn;\n\t\t\t} if(res.data.role === 'student') {\n\t\t\t\tthis.$router.push('/student-home');\n\t\t\t\treturn;\n\t\t\t}\n\t\t}).catch(err => {\n\t\t\tthis.openModal('notification-modal', {\n\t\t\t\t\terrMsg: notificationMsg(err, null),\n\t\t\t\t\tsuccessMsg: null,\n\t\t\t\t});\n\t\t});\n\t}\n\n\tpublic registerForm() {\n    this.register = !this.register;\n  }\n\tpublic registerAction() {\n    \tthis.registerData.role = this.role.value;\n\t\tauthModule.register(this.registerData).then(\n\t\t\tres => {\n\t\t\t\tthis.login = {\n\t\t\t\t\temail: this.registerData.email,\n\t\t\t\t\tpassword: this.registerData.password\n\t\t\t\t}\n\t\t\t\tthis.openModal('notification-modal', {\n\t\t\t\t\terrMsg: null,\n\t\t\t\t\tsuccessMsg: notificationMsg(res, 'REGISTER_SUCCESS'),\n\t\t\t\t});\n\t\t\t\tthis.loginSubmit();\n\t\t\t}\n\t\t).catch(err => {\n\t\t\tthis.openModal('notification-modal', {\n\t\t\t\t\terrMsg: notificationMsg(err, null),\n\t\t\t\t\tsuccessMsg: null,\n\t\t\t\t});\n\t\t});\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}