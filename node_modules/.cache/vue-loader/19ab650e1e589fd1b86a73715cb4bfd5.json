{"remainingRequest":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nebojsa/projects/factory-academy-ts/src/views/Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/nebojsa/projects/factory-academy-ts/src/views/Login.vue","mtime":1626179183852},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUsIE1peGlucyB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgTW9kYWxNaXhpbiBmcm9tICdAL21peGlucy9Nb2RhbE1peGluJzsKaW1wb3J0IGF1dGhNb2R1bGUgZnJvbSAnLi4vc3RvcmUvbW9kdWxlcy9hdXRoL2F1dGhNb2R1bGUnOwppbXBvcnQgeyBSZWdpc3RlciB9IGZyb20gJ0Avc3RvcmUvbW9kZWxzJzsKaW1wb3J0IHsgbm90aWZpY2F0aW9uTXNnIH0gZnJvbSAiQC9zZXJ2aWNlcy9CYXNlU2VydmljZSI7CgpAQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7fSwKfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9naW4gZXh0ZW5kcyBNb2RhbE1peGluIHsKCXByaXZhdGUgcmVnaXN0ZXIgPSBmYWxzZTsKCXByaXZhdGUgbG9naW46IHt9ID0gewoJCWVtYWlsOiBudWxsLAoJCXBhc3N3b3JkOiBudWxsCgl9Cglwcml2YXRlIHJlZ2lzdGVyRGF0YTogUmVnaXN0ZXIgPSB7CgkJbmFtZTogbnVsbCwKCQlzdXJuYW1lOiBudWxsLAoJCWVtYWlsOiBudWxsLAoJCXBhc3N3b3JkOiBudWxsLAoJCXJvbGU6IG51bGwKCX0KCXByaXZhdGUgcm9sZTogYW55ID0gbnVsbAoJcHJpdmF0ZSByb2xlT3B0aW9ucyA9IFsKCQkJCXsKCQkJCQluYW1lOiAiVGVhY2hlciIsCgkJCQkJdmFsdWU6ICd0ZWFjaGVyJywKCQkJCX0sCgkJCQl7CgkJCQkJbmFtZTogIlN0dWRlbnQiLAoJCQkJCXZhbHVlOiAnc3R1ZGVudCcsCgkJCQl9LAoJCQldCgoJbW91bnRlZCgpIHt9CgoJLy8gY29tcHV0ZWQKCWdldCBsb2dnZWRVc2VyKCkgewoJCXJldHVybiBhdXRoTW9kdWxlLmxvZ2dlZFVzZXI7Cgl9CgkvLyBFTkQgOjogY29tcHV0ZWQKCiAgcHVibGljIG9wZW5Ob3RpZmljYXRpb25Nb2RhbCgpOiBhbnkgewogICAgdGhpcy5vcGVuTW9kYWwoJ25vdGlmaWNhdGlvbi1tb2RhbCcsIHsKCQkJCQllcnJNc2c6IG51bGwsCgkJCQkJc3VjY2Vzc01zZzogJ2xPR0lOX1NVQ0NFU1MnLAoJCQkJfSk7CiAgfQoKCWFzeW5jIGxvZ2luU3VibWl0KCkgewoJCWF1dGhNb2R1bGUubG9naW5BY3Rpb24odGhpcy5sb2dpbikudGhlbihyZXMgPT4gewoJCQlpZihyZXMuZGF0YS5yb2xlID09PSAndGVhY2hlcicpIHsKCQkJCXRoaXMuJHJvdXRlci5wdXNoKCcvcHJvZmVzc29yLWhvbWUnKTsKCQkJCXJldHVybjsKCQkJfSBpZihyZXMuZGF0YS5yb2xlID09PSAnc3R1ZGVudCcpIHsKCQkJCXRoaXMuJHJvdXRlci5wdXNoKCcvc3R1ZGVudC1ob21lJyk7CgkJCQlyZXR1cm47CgkJCX0KCQl9KS5jYXRjaChlcnIgPT4gewoJCQl0aGlzLm9wZW5Nb2RhbCgnbm90aWZpY2F0aW9uLW1vZGFsJywgewoJCQkJCWVyck1zZzogbm90aWZpY2F0aW9uTXNnKGVyciwgbnVsbCksCgkJCQkJc3VjY2Vzc01zZzogbnVsbCwKCQkJCX0pOwoJCX0pOwoJfQoKCXB1YmxpYyByZWdpc3RlckZvcm0oKSB7CiAgICB0aGlzLnJlZ2lzdGVyID0gIXRoaXMucmVnaXN0ZXI7CiAgfQoJcHVibGljIHJlZ2lzdGVyQWN0aW9uKCkgewogICAgCXRoaXMucmVnaXN0ZXJEYXRhLnJvbGUgPSB0aGlzLnJvbGUudmFsdWU7CgkJYXV0aE1vZHVsZS5yZWdpc3Rlcih0aGlzLnJlZ2lzdGVyRGF0YSkudGhlbigKCQkJcmVzID0+IHsKCQkJCXRoaXMubG9naW4gPSB7CgkJCQkJZW1haWw6IHRoaXMucmVnaXN0ZXJEYXRhLmVtYWlsLAoJCQkJCXBhc3N3b3JkOiB0aGlzLnJlZ2lzdGVyRGF0YS5wYXNzd29yZAoJCQkJfQoJCQkJdGhpcy5vcGVuTW9kYWwoJ25vdGlmaWNhdGlvbi1tb2RhbCcsIHsKCQkJCQllcnJNc2c6IG51bGwsCgkJCQkJc3VjY2Vzc01zZzogbm90aWZpY2F0aW9uTXNnKHJlcywgJ1JFR0lTVEVSX1NVQ0NFU1MnKSwKCQkJCX0pOwoJCQkJdGhpcy5sb2dpblN1Ym1pdCgpOwoJCQl9CgkJKS5jYXRjaChlcnIgPT4gewoJCQl0aGlzLm9wZW5Nb2RhbCgnbm90aWZpY2F0aW9uLW1vZGFsJywgewoJCQkJCWVyck1zZzogbm90aWZpY2F0aW9uTXNnKGVyciwgbnVsbCksCgkJCQkJc3VjY2Vzc01zZzogbnVsbCwKCQkJCX0pOwoJCX0pOwogIH0KfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"flex items-center justify-center h-full w-full\">\n    <div v-if=\"!register\" class=\"flex flex-col w-4/12 border h-2/3 p-4\">\n      <div class=\"flex justify-center\">\n        <span class=\"text-3xl\">Login</span>\n      </div>\n      <div class=\"flex flex-col justify-center mt-8\">\n        <span>Email</span>\n        <input\n          class=\"input\"\n          type=\"text\"\n          autocomplete=\"off\"\n          v-model=\"login.email\"\n        />\n      </div>\n      <div class=\"flex flex-col justify-center mt-4\">\n        <span>Password</span>\n        <input\n          class=\"input\"\n          type=\"password\"\n          autocomplete=\"new-password\"\n          v-model=\"login.password\"\n        />\n      </div>\n      <div class=\"flex mt-4 justify-between\">\n        <div class=\"button bg-blue-500 w-1/3\" @click=\"loginSubmit()\">Login</div>\n        <div class=\"button bg-darkGreen w-1/3\" @click=\"registerForm()\">\n          Register\n        </div>\n      </div>\n    </div>\n    <div v-else class=\"flex flex-col w-4/12 border h-2/3 p-4\">\n      <div class=\"flex justify-center\">\n        <span class=\"text-3xl\">Register</span>\n      </div>\n      <div class=\"flex flex-col justify-center mt-8\">\n        <span>First Name</span>\n        <input\n          class=\"input\"\n          type=\"text\"\n          autocomplete=\"off\"\n          v-model=\"registerData.name\"\n        />\n      </div>\n      <div class=\"flex flex-col justify-center mt-8\">\n        <span>Last Name</span>\n        <input\n          class=\"input\"\n          type=\"text\"\n          autocomplete=\"off\"\n          v-model=\"registerData.surname\"\n        />\n      </div>\n      <div class=\"flex flex-col justify-center mt-8\">\n        <span>Email</span>\n        <input\n          class=\"input\"\n          type=\"text\"\n          autocomplete=\"off\"\n          v-model=\"registerData.email\"\n        />\n      </div>\n      <div class=\"flex flex-col justify-center mt-8\">\n        <span>Password</span>\n        <input\n          class=\"input\"\n          type=\"password\"\n          autocomplete=\"new-password\"\n          v-model=\"registerData.password\"\n        />\n      </div>\n      <div class=\"flex mt-8\">\n        <v-select\n          label=\"name\"\n          class=\"w-1/4\"\n          :clearable=\"false\"\n          :options=\"roleOptions\"\n          v-model=\"role\"\n        />\n      </div>\n      <div class=\"flex mt-4 justify-between\">\n        <div class=\"button bg-darkRed w-1/3\" @click=\"registerForm()\">\n          Go Back\n        </div>\n        <div class=\"button bg-darkGreen w-1/3\" @click=\"registerAction()\">\n          Register\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue, Mixins } from \"vue-property-decorator\";\nimport ModalMixin from '@/mixins/ModalMixin';\nimport authModule from '../store/modules/auth/authModule';\nimport { Register } from '@/store/models';\nimport { notificationMsg } from \"@/services/BaseService\";\n\n@Component({\n  components: {},\n})\nexport default class Login extends ModalMixin {\n\tprivate register = false;\n\tprivate login: {} = {\n\t\temail: null,\n\t\tpassword: null\n\t}\n\tprivate registerData: Register = {\n\t\tname: null,\n\t\tsurname: null,\n\t\temail: null,\n\t\tpassword: null,\n\t\trole: null\n\t}\n\tprivate role: any = null\n\tprivate roleOptions = [\n\t\t\t\t{\n\t\t\t\t\tname: \"Teacher\",\n\t\t\t\t\tvalue: 'teacher',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"Student\",\n\t\t\t\t\tvalue: 'student',\n\t\t\t\t},\n\t\t\t]\n\n\tmounted() {}\n\n\t// computed\n\tget loggedUser() {\n\t\treturn authModule.loggedUser;\n\t}\n\t// END :: computed\n\n  public openNotificationModal(): any {\n    this.openModal('notification-modal', {\n\t\t\t\t\terrMsg: null,\n\t\t\t\t\tsuccessMsg: 'lOGIN_SUCCESS',\n\t\t\t\t});\n  }\n\n\tasync loginSubmit() {\n\t\tauthModule.loginAction(this.login).then(res => {\n\t\t\tif(res.data.role === 'teacher') {\n\t\t\t\tthis.$router.push('/professor-home');\n\t\t\t\treturn;\n\t\t\t} if(res.data.role === 'student') {\n\t\t\t\tthis.$router.push('/student-home');\n\t\t\t\treturn;\n\t\t\t}\n\t\t}).catch(err => {\n\t\t\tthis.openModal('notification-modal', {\n\t\t\t\t\terrMsg: notificationMsg(err, null),\n\t\t\t\t\tsuccessMsg: null,\n\t\t\t\t});\n\t\t});\n\t}\n\n\tpublic registerForm() {\n    this.register = !this.register;\n  }\n\tpublic registerAction() {\n    \tthis.registerData.role = this.role.value;\n\t\tauthModule.register(this.registerData).then(\n\t\t\tres => {\n\t\t\t\tthis.login = {\n\t\t\t\t\temail: this.registerData.email,\n\t\t\t\t\tpassword: this.registerData.password\n\t\t\t\t}\n\t\t\t\tthis.openModal('notification-modal', {\n\t\t\t\t\terrMsg: null,\n\t\t\t\t\tsuccessMsg: notificationMsg(res, 'REGISTER_SUCCESS'),\n\t\t\t\t});\n\t\t\t\tthis.loginSubmit();\n\t\t\t}\n\t\t).catch(err => {\n\t\t\tthis.openModal('notification-modal', {\n\t\t\t\t\terrMsg: notificationMsg(err, null),\n\t\t\t\t\tsuccessMsg: null,\n\t\t\t\t});\n\t\t});\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}