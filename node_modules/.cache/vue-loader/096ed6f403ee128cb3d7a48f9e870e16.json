{"remainingRequest":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nebojsa/projects/factory-academy-ts/src/layouts/AppLayout.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/nebojsa/projects/factory-academy-ts/src/layouts/AppLayout.vue","mtime":1625833173889},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgewogICAgQ29tcG9uZW50LAogICAgVnVlCn0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCB7CiAgICBUT0tFTl9MU19OQU1FCn0gZnJvbSAiQC9jb25zdGFudHMvY29uc3RhbnRzIjsKLy8gbW9kdWxlcwppbXBvcnQgYXV0aE1vZHVsZSBmcm9tICdAL3N0b3JlL21vZHVsZXMvYXV0aC9hdXRoTW9kdWxlJzsKCkBDb21wb25lbnQoewogICAgY29tcG9uZW50czoge30sCn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcExheW91dCBleHRlbmRzIFZ1ZSB7CiAgICBtb3VudGVkKCkgewogICAgICAgIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oVE9LRU5fTFNfTkFNRSkpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgIH0KCQljb25zb2xlLmxvZyh0aGlzLmxvZ2dlZFVzZXIpCiAgICB9CgogICAgLy8gZ2V0dGVycwogICAgZ2V0IGxvZ2dlZFVzZXIoKToge30gfCBhbnkgewogICAgICAgIHJldHVybiBhdXRoTW9kdWxlLmxvZ2dlZFVzZXI7CiAgICB9CiAgICAvLyBFTkQgZ2V0dGVycwoKICAgIC8vIG1ldGhvZHMKICAgIGxvZ291dCgpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYXV0aFN0b3JlL2xvZ291dCcpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShUT0tFTl9MU19OQU1FKTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2gocmVzKQogICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgIH0KICAgIGdvVG9Ib21lKCkgewogICAgICAgIGlmICh0aGlzLmxvZ2dlZFVzZXIucm9sZSA9PT0gJ3RlYWNoZXInKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdwcm9mZXNzb3ItaG9tZScpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5sb2dnZWRVc2VyLnJvbGUgPT09ICdzdHVkZW50JykgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnaG9tZScpOwogICAgICAgIH0KICAgIH0KICAgIGdvVG9Qcm9maWxlKCkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1c2VyU3RvcmUvZ29Qcm9maWxlJywgdGhpcy5sb2dnZWRVc2VyLmlkKQogICAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIHBhdGg6ICcvcHJvZmlsZScsCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlcy5kYXRhLmlkCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHt9KTsKICAgIH0KICAgIG5ld0NvdXJzZSgpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL25ldy1jb3Vyc2UnKTsKICAgIH0KICAgIG15U3R1ZGVudHMoKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9tZW1iZXItbGlzdCcpOwogICAgfQogICAgQ291cnNlTGlzdCgpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnY291cnNlLWxpc3QnKQogICAgfQogICAgc3R1ZGVudEFwbGljYXRpb25zKCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdzdHVkZW50LWFwbGljYXRpb25zJyk7CiAgICB9CiAgICAvLyBFTkQgOjogbWV0aG9kcwp9Cg=="},{"version":3,"sources":["AppLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppLayout.vue","sourceRoot":"src/layouts","sourcesContent":["<template>\n<div class=\"flex w-full h-full\">\n    <div class=\"flex flex-col h-full bg-gray-500 w-2/12\">\n        <div class=\"flex p-16\">\n            <img src=\"../assets/images/factoryww.png\" alt=\"logo\" class=\"cursor-pointer\" @click=\"goToHome()\">\n        </div>\n        <div class=\"flex flex-col text-white font-bold text-lg\">\n            <span class=\"my-2 cursor-pointer\" @click=\"goToHome()\">Home</span>\n            <span class=\"my-2 cursor-pointer\" @click=\"goToProfile()\">Profile</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"myStudents()\">My Students</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"newCourse()\">New Course</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"CourseList()\">Course List</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"studentAplications()\">Student aplications</span>\n            <span class=\"my-2 cursor-pointer\" @click=\"logout()\">Logout</span>\n        </div>\n    </div>\n    <div class=\"flex w-full\">\n        <router-view />\n    </div>\n</div>\n</template>\n\n<script lang=\"ts\">\nimport {\n    Component,\n    Vue\n} from \"vue-property-decorator\";\nimport {\n    TOKEN_LS_NAME\n} from \"@/constants/constants\";\n// modules\nimport authModule from '@/store/modules/auth/authModule';\n\n@Component({\n    components: {},\n})\nexport default class AppLayout extends Vue {\n    mounted() {\n        if (!localStorage.getItem(TOKEN_LS_NAME)) {\n            this.$router.push('/login');\n        }\n\t\tconsole.log(this.loggedUser)\n    }\n\n    // getters\n    get loggedUser(): {} | any {\n        return authModule.loggedUser;\n    }\n    // END getters\n\n    // methods\n    logout() {\n        this.$store.dispatch('authStore/logout').then((res) => {\n            localStorage.removeItem(TOKEN_LS_NAME);\n            this.$router.push(res)\n        }).catch((err) => {\n            console.log(err);\n        });\n    }\n    goToHome() {\n        if (this.loggedUser.role === 'teacher') {\n            this.$router.push('professor-home');\n        }\n        if (this.loggedUser.role === 'student') {\n            this.$router.push('home');\n        }\n    }\n    goToProfile() {\n        this.$store.dispatch('userStore/goProfile', this.loggedUser.id)\n            .then(res => {\n                this.$router.push({\n                    path: '/profile',\n                    query: {\n                        id: res.data.id\n                    }\n                })\n            }).catch(err => {});\n    }\n    newCourse() {\n        this.$router.push('/new-course');\n    }\n    myStudents() {\n        this.$router.push('/member-list');\n    }\n    CourseList() {\n        this.$router.push('course-list')\n    }\n    studentAplications() {\n        this.$router.push('student-aplications');\n    }\n    // END :: methods\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}