{"remainingRequest":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nebojsa/projects/factory-academy-ts/src/layouts/AppLayout.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/nebojsa/projects/factory-academy-ts/src/layouts/AppLayout.vue","mtime":1626444912679},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgeyBUT0tFTl9MU19OQU1FIH0gZnJvbSAiQC9jb25zdGFudHMvY29uc3RhbnRzIjsKaW1wb3J0IE1vZGFsTWl4aW4gZnJvbSAnQC9taXhpbnMvTW9kYWxNaXhpbic7CgovLyBtb2R1bGVzCmltcG9ydCBhdXRoTW9kdWxlIGZyb20gJ0Avc3RvcmUvbW9kdWxlcy9hdXRoL2F1dGhNb2R1bGUnOwppbXBvcnQgcGVyc29uTW9kdWxlIGZyb20gJ0Avc3RvcmUvbW9kdWxlcy9wZXJzb24vcGVyc29uTW9kdWxlJzsKCkBDb21wb25lbnQoewogICAgY29tcG9uZW50czoge30sCn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcExheW91dCBleHRlbmRzIE1vZGFsTWl4aW4gewogICAgCiAgICBtb3VudGVkKCkgewogICAgICAgIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oVE9LRU5fTFNfTkFNRSkpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgIH0KICAgICAgICBpZih0aGlzLmxvZ2dlZFVzZXIucm9sZSA9PT0gJ3N0dWRlbnQnKSB7CiAgICAgICAgICAgIHRoaXMubm90UmF0ZWQoKTsKICAgICAgICB9CiAgICB9CgogICAgLy8gZ2V0dGVycwogICAgZ2V0IGxvZ2dlZFVzZXIoKToge30gfCBhbnkgewogICAgICAgIHJldHVybiBhdXRoTW9kdWxlLmxvZ2dlZFVzZXI7CiAgICB9CiAgICAvLyBFTkQgZ2V0dGVycwoKICAgIC8vIG1ldGhvZHMKICAgIHByaXZhdGUgbm90UmF0ZWQoKSB7CgkJcGVyc29uTW9kdWxlLmZldGNoTm90UmF0ZWRDb3Vyc2VzKHRoaXMubG9nZ2VkVXNlci5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgICBPYmplY3Qua2V5cyhyZXMuZGF0YSkubGVuZ3RoID4gMCA/IHRoaXMub3Blbk1vZGFsKCdyYXRlLWNvdXJzZS1tb2RhbCcsIHJlcy5kYXRhKSA6IG51bGw7CiAgICAgICAgfSkuY2F0Y2goKTsKCX0KICAgIHB1YmxpYyBsb2dvdXQoKSB7CiAgICAgICAgYXV0aE1vZHVsZS5sb2dvdXQoKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVE9LRU5fTFNfTkFNRSk7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHJlcykKICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICB9CiAgICBwdWJsaWMgZ29Ub0hvbWUoKSB7CiAgICAgICAgaWYgKHRoaXMubG9nZ2VkVXNlci5yb2xlID09PSAndGVhY2hlcicpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ3Byb2Zlc3Nvci1ob21lJyk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmxvZ2dlZFVzZXIucm9sZSA9PT0gJ3N0dWRlbnQnKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdzdHVkZW50LWhvbWUnKTsKICAgICAgICB9CiAgICB9CiAgICBwdWJsaWMgZ29Ub1Byb2ZpbGUoKSB7CiAgICAgICAgcGVyc29uTW9kdWxlLmdvUHJvZmlsZSh0aGlzLmxvZ2dlZFVzZXIuaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBwYXRoOiAnL3Byb2ZpbGUnLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiByZXMuZGF0YS5pZAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7fSk7CiAgICB9CiAgICBwdWJsaWMgbmV3Q291cnNlKCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbmV3LWNvdXJzZScpOwogICAgfQogICAgcHVibGljIG15U3R1ZGVudHMoKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9tZW1iZXItbGlzdCcpOwogICAgfQogICAgcHVibGljIENvdXJzZUxpc3QoKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ2NvdXJzZS1saXN0JykKICAgIH0KICAgIHB1YmxpYyBzdHVkZW50QXBsaWNhdGlvbnMoKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ3N0dWRlbnQtYXBsaWNhdGlvbnMnKTsKICAgIH0KICAgIC8vIEVORCA6OiBtZXRob2RzCn0K"},{"version":3,"sources":["AppLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppLayout.vue","sourceRoot":"src/layouts","sourcesContent":["<template>\n<div class=\"flex w-full h-full\">\n    <div class=\"flex flex-col h-full bg-gray-500 w-2/12\">\n        <div class=\"flex p-16\">\n            <img src=\"../assets/images/factoryww.png\" alt=\"logo\" class=\"cursor-pointer\" @click=\"goToHome()\">\n        </div>\n        <div class=\"flex flex-col text-white font-bold text-lg\">\n            <span class=\"my-2 cursor-pointer\" @click=\"goToHome()\">Home</span>\n            <span class=\"my-2 cursor-pointer\" @click=\"goToProfile()\">Profile</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"myStudents()\">My Students</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"newCourse()\">New Course</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"CourseList()\">Course List</span>\n            <span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"studentAplications()\">Student aplications</span>\n            <span class=\"my-2 cursor-pointer\" @click=\"logout()\">Logout</span>\n        </div>\n    </div>\n    <div class=\"flex w-full\">\n        <router-view />\n    </div>\n</div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { TOKEN_LS_NAME } from \"@/constants/constants\";\nimport ModalMixin from '@/mixins/ModalMixin';\n\n// modules\nimport authModule from '@/store/modules/auth/authModule';\nimport personModule from '@/store/modules/person/personModule';\n\n@Component({\n    components: {},\n})\nexport default class AppLayout extends ModalMixin {\n    \n    mounted() {\n        if (!localStorage.getItem(TOKEN_LS_NAME)) {\n            this.$router.push('/login');\n        }\n        if(this.loggedUser.role === 'student') {\n            this.notRated();\n        }\n    }\n\n    // getters\n    get loggedUser(): {} | any {\n        return authModule.loggedUser;\n    }\n    // END getters\n\n    // methods\n    private notRated() {\n\t\tpersonModule.fetchNotRatedCourses(this.loggedUser.id).then(res => {\n            Object.keys(res.data).length > 0 ? this.openModal('rate-course-modal', res.data) : null;\n        }).catch();\n\t}\n    public logout() {\n        authModule.logout().then((res) => {\n            localStorage.removeItem(TOKEN_LS_NAME);\n            this.$router.push(res)\n        }).catch((err) => {\n            console.log(err);\n        });\n    }\n    public goToHome() {\n        if (this.loggedUser.role === 'teacher') {\n            this.$router.push('professor-home');\n        }\n        if (this.loggedUser.role === 'student') {\n            this.$router.push('student-home');\n        }\n    }\n    public goToProfile() {\n        personModule.goProfile(this.loggedUser.id).then(res => {\n                this.$router.push({\n                    path: '/profile',\n                    query: {\n                        id: res.data.id\n                    }\n                })\n            }).catch(err => {});\n    }\n    public newCourse() {\n        this.$router.push('/new-course');\n    }\n    public myStudents() {\n        this.$router.push('/member-list');\n    }\n    public CourseList() {\n        this.$router.push('course-list')\n    }\n    public studentAplications() {\n        this.$router.push('student-aplications');\n    }\n    // END :: methods\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}