{"remainingRequest":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nebojsa/projects/factory-academy-ts/src/layouts/AppLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nebojsa/projects/factory-academy-ts/src/layouts/AppLayout.vue","mtime":1625832876331},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nebojsa/projects/factory-academy-ts/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICJhcHAtbGF5b3V0IiwKCWNvbXBvbmVudHM6IHsKCX0sCglkYXRhKCkgewoJCXJldHVybiB7fTsKCX0sCgltb3VudGVkKCl7CgkJaWYoIWxvY2FsU3RvcmFnZS5nZXRJdGVtKFRPS0VOX0xTX05BTUUpKSB7CgkJCXRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsKCQl9CiAgICAvLyBnZXR0ZXJzCiAgICBnZXQgbG9nZ2VkVXNlcigpIHsKICAgICAgcmV0dXJuIGF1dGhNb2R1bGUubG9nZ2VkVXNlcjsKICAgIH0KICAgIC8vIEVORCBnZXR0ZXJzCiAgICAvLyBtZXRob2RzCiAgICBsb2dvdXQoKSB7CgkJCXRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhdXRoU3RvcmUvbG9nb3V0JykudGhlbigocmVzKSA9PiB7CgkJCQlsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShUT0tFTl9MU19OQU1FKTsKICAgICAgICAgICAgCXRoaXMuJHJvdXRlci5wdXNoKHJlcykKCQkJfSkuY2F0Y2goKGVycikgPT4gewoJCQkJY29uc29sZS5sb2coZXJyKTsKCQkJfSk7CgkJfSwKCQlnb1RvSG9tZSgpIHsKCQkJaWYodGhpcy5sb2dnZWRVc2VyLnJvbGUgPT09ICd0ZWFjaGVyJykgewoJCQkJdGhpcy4kcm91dGVyLnB1c2goJ3Byb2Zlc3Nvci1ob21lJyk7CgkJCX0KCQkJaWYodGhpcy5sb2dnZWRVc2VyLnJvbGUgPT09ICdzdHVkZW50JykgewoJCQkJdGhpcy4kcm91dGVyLnB1c2goJ2hvbWUnKTsKCQkJfQoJCX0sCgkJZ29Ub1Byb2ZpbGUoKSB7CgkJCXRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1c2VyU3RvcmUvZ29Qcm9maWxlJywgdGhpcy5sb2dnZWRVc2VyLmlkKQoJCQkJLnRoZW4ocmVzID0+IHsKCQkJCQl0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvcHJvZmlsZScsIHF1ZXJ5OiB7IGlkOiByZXMuZGF0YS5pZCB9IH0pCgkJCQl9KS5jYXRjaChlcnIgPT4gewoJCQkJfSk7CgkJfSwKCQluZXdDb3Vyc2UoKSB7CgkJCXRoaXMuJHJvdXRlci5wdXNoKCcvbmV3LWNvdXJzZScpOwoJCX0sCgkJbXlTdHVkZW50cygpIHsKCQkJdGhpcy4kcm91dGVyLnB1c2goJy9tZW1iZXItbGlzdCcpOwoJCX0sCgkJQ291cnNlTGlzdCgpIHsKCQkJdGhpcy4kcm91dGVyLnB1c2goJ2NvdXJzZS1saXN0JykKCQl9LAoJCXN0dWRlbnRBcGxpY2F0aW9ucygpIHsKCQkJdGhpcy4kcm91dGVyLnB1c2goJ3N0dWRlbnQtYXBsaWNhdGlvbnMnKTsKCQl9CiAgICAvLyBFTkQgOjogbWV0aG9kcwoJfSwKCW1ldGhvZHM6IHsKCQlsb2dvdXQoKSB7CgkJCXRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhdXRoU3RvcmUvbG9nb3V0JykudGhlbigocmVzKSA9PiB7CgkJCQlsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShUT0tFTl9MU19OQU1FKTsKICAgICAgICAgICAgCXRoaXMuJHJvdXRlci5wdXNoKHJlcykKCQkJfSkuY2F0Y2goKGVycikgPT4gewoJCQkJY29uc29sZS5sb2coZXJyKTsKCQkJfSk7CgkJfSwKCQlnb1RvSG9tZSgpIHsKCQkJaWYodGhpcy5sb2dnZWRVc2VyLnJvbGUgPT09ICd0ZWFjaGVyJykgewoJCQkJdGhpcy4kcm91dGVyLnB1c2goJ3Byb2Zlc3Nvci1ob21lJyk7CgkJCX0KCQkJaWYodGhpcy5sb2dnZWRVc2VyLnJvbGUgPT09ICdzdHVkZW50JykgewoJCQkJdGhpcy4kcm91dGVyLnB1c2goJ2hvbWUnKTsKCQkJfQoJCX0sCgkJZ29Ub1Byb2ZpbGUoKSB7CgkJCXRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1c2VyU3RvcmUvZ29Qcm9maWxlJywgdGhpcy5sb2dnZWRVc2VyLmlkKQoJCQkJLnRoZW4ocmVzID0+IHsKCQkJCQl0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvcHJvZmlsZScsIHF1ZXJ5OiB7IGlkOiByZXMuZGF0YS5pZCB9IH0pCgkJCQl9KS5jYXRjaChlcnIgPT4gewoJCQkJfSk7CgkJfSwKCQluZXdDb3Vyc2UoKSB7CgkJCXRoaXMuJHJvdXRlci5wdXNoKCcvbmV3LWNvdXJzZScpOwoJCX0sCgkJbXlTdHVkZW50cygpIHsKCQkJdGhpcy4kcm91dGVyLnB1c2goJy9tZW1iZXItbGlzdCcpOwoJCX0sCgkJQ291cnNlTGlzdCgpIHsKCQkJdGhpcy4kcm91dGVyLnB1c2goJ2NvdXJzZS1saXN0JykKCQl9LAoJCXN0dWRlbnRBcGxpY2F0aW9ucygpIHsKCQkJdGhpcy4kcm91dGVyLnB1c2goJ3N0dWRlbnQtYXBsaWNhdGlvbnMnKTsKCQl9Cgl9LAoJY29tcHV0ZWQ6IHsKCQlsb2dnZWRVc2VyKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1siYXV0aFN0b3JlL2dldFN0YXRlIl0oImxvZ2dlZFVzZXIiKTsKICAgICAgICB9LAoJfSwKCXdhdGNoOiB7fSwKfTsK"},{"version":3,"sources":["AppLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppLayout.vue","sourceRoot":"src/layouts","sourcesContent":["<template>\n  <div class=\"flex w-full h-full\">\n\t\t<div class=\"flex flex-col h-full bg-gray-500 w-2/12\">\n\t\t\t<div class=\"flex p-16\">\n\t\t\t\t<img src=\"../assets/images/factoryww.png\" alt=\"logo\" class=\"cursor-pointer\" @click=\"goToHome()\">\n\t\t\t</div>\n            <div class=\"flex flex-col text-white font-bold text-lg\">\n                <span class=\"my-2 cursor-pointer\" @click=\"goToHome()\">Home</span>\n                <span class=\"my-2 cursor-pointer\" @click=\"goToProfile()\">Profile</span>\n\t\t\t\t<span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"myStudents()\">My Students</span>\n\t\t\t\t<span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"newCourse()\">New Course</span>\n\t\t\t\t<span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"CourseList()\">Course List</span>\n\t\t\t\t<span v-if=\"loggedUser && loggedUser.role === 'teacher'\" class=\"my-2 cursor-pointer\" @click=\"studentAplications()\">Student aplications</span>\n\t\t\t\t<span class=\"my-2 cursor-pointer\" @click=\"logout()\">Logout</span>\n            </div>\n        </div>\n\t\t<div class=\"flex w-full\">\n\t\t\t<router-view />\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { TOKEN_LS_NAME } from \"@/constants/constants\";\nimport authModule from '@/store/modules/auth/authModule';\n// modules\nimport authModule from '../store/modules/auth/authModule'\n\n@Component({\n  components: {},\n})\nexport default class AppLayout extends Vue {\n    mounted() {\n        if(!localStorage.getItem(TOKEN_LS_NAME)) {\n\t\t\tthis.$router.push('/login');\n\t\t} \n    }\n}\n</script>\n\n<style scoped>\n</style>\n\n\n\n\n<script>\nexport default {\n\tname: \"app-layout\",\n\tcomponents: {\n\t},\n\tdata() {\n\t\treturn {};\n\t},\n\tmounted(){\n\t\tif(!localStorage.getItem(TOKEN_LS_NAME)) {\n\t\t\tthis.$router.push('/login');\n\t\t}\n    // getters\n    get loggedUser() {\n      return authModule.loggedUser;\n    }\n    // END getters\n    // methods\n    logout() {\n\t\t\tthis.$store.dispatch('authStore/logout').then((res) => {\n\t\t\t\tlocalStorage.removeItem(TOKEN_LS_NAME);\n            \tthis.$router.push(res)\n\t\t\t}).catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t\t},\n\t\tgoToHome() {\n\t\t\tif(this.loggedUser.role === 'teacher') {\n\t\t\t\tthis.$router.push('professor-home');\n\t\t\t}\n\t\t\tif(this.loggedUser.role === 'student') {\n\t\t\t\tthis.$router.push('home');\n\t\t\t}\n\t\t},\n\t\tgoToProfile() {\n\t\t\tthis.$store.dispatch('userStore/goProfile', this.loggedUser.id)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.$router.push({ path: '/profile', query: { id: res.data.id } })\n\t\t\t\t}).catch(err => {\n\t\t\t\t});\n\t\t},\n\t\tnewCourse() {\n\t\t\tthis.$router.push('/new-course');\n\t\t},\n\t\tmyStudents() {\n\t\t\tthis.$router.push('/member-list');\n\t\t},\n\t\tCourseList() {\n\t\t\tthis.$router.push('course-list')\n\t\t},\n\t\tstudentAplications() {\n\t\t\tthis.$router.push('student-aplications');\n\t\t}\n    // END :: methods\n\t},\n\tmethods: {\n\t\tlogout() {\n\t\t\tthis.$store.dispatch('authStore/logout').then((res) => {\n\t\t\t\tlocalStorage.removeItem(TOKEN_LS_NAME);\n            \tthis.$router.push(res)\n\t\t\t}).catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t\t},\n\t\tgoToHome() {\n\t\t\tif(this.loggedUser.role === 'teacher') {\n\t\t\t\tthis.$router.push('professor-home');\n\t\t\t}\n\t\t\tif(this.loggedUser.role === 'student') {\n\t\t\t\tthis.$router.push('home');\n\t\t\t}\n\t\t},\n\t\tgoToProfile() {\n\t\t\tthis.$store.dispatch('userStore/goProfile', this.loggedUser.id)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.$router.push({ path: '/profile', query: { id: res.data.id } })\n\t\t\t\t}).catch(err => {\n\t\t\t\t});\n\t\t},\n\t\tnewCourse() {\n\t\t\tthis.$router.push('/new-course');\n\t\t},\n\t\tmyStudents() {\n\t\t\tthis.$router.push('/member-list');\n\t\t},\n\t\tCourseList() {\n\t\t\tthis.$router.push('course-list')\n\t\t},\n\t\tstudentAplications() {\n\t\t\tthis.$router.push('student-aplications');\n\t\t}\n\t},\n\tcomputed: {\n\t\tloggedUser() {\n            return this.$store.getters[\"authStore/getState\"](\"loggedUser\");\n        },\n\t},\n\twatch: {},\n};\n</script>\n\n<style></style>\n"]}]}